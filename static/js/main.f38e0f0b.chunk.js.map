{"version":3,"sources":["components/Navigation.js","Copyright.js","components/d3color-legend.js","components/WorldChoropleth.js","components/Dashboard.js","components/FlipboardContainer.js","components/PieChart.js","components/DonutChart.js","components/PieCharts.js","components/TwitterContainer.js","components/BarChart.js","components/BarCharts.js","components/TableChart.js","components/GoogleNewsfeed.js","components/TableCharts.js","components/LineChart.js","components/LineCharts.js","components/RaceChart.js","components/RaceCharts.js","components/DonutCharts.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","appBarSpacer","Navigation","props","classes","className","CssBaseline","AppBar","clsx","Toolbar","IconButton","edge","color","aria-label","Typography","component","variant","noWrap","Badge","badgeContent","Drawer","paper","Divider","List","ListItem","button","ListItemIcon","to","ListItemText","primary","Copyright","align","Link","href","Date","getFullYear","ramp","n","canvas","document","createElement","context","getContext","i","fillStyle","fillRect","WorldChoropleth","drawChoropleth","bind","state","covid","this","node","pdata","covid19","window","innerWidth","height","innerHeight","margin","projection","d3","path","length","confirmed","world","total","data","reduce","r","o","key","get","Value","set","Map","countries","topojson","objects","domain","range","x","xcor","ycor","tickSize","marginTop","marginBottom","ticks","tickFormat","tickValues","svg","append","attr","style","tickAdjust","g","selectAll","interpolate","Math","min","copy","rangeRound","toDataURL","interpolator","Object","assign","undefined","round","map","invertExtent","thresholds","quantiles","thresholdFormat","d","join","max","bandwidth","call","select","remove","text","legend","URL","location","features","properties","name","has","toLocaleString","datum","a","b","ref","Component","content","overflow","container","paddingLeft","paddingTop","paddingBottom","container_spacing","flexDirection","fixedHeight","Dashboard","fixedHeightPaper","useState","setCovid19","useEffect","parsedate","yesterday","Promise","all","then","filter","result","total_confirmed","tot","row","total_deaths","total_recovered","covid19data","setDate","getDate","Container","maxWidth","Grid","item","xs","md","lg","Paper","id","source","src","scrolling","frameBorder","allow","Box","pt","FlipboardContainer","script","getElementsByClassName","appendChild","DonutChart","useRef","pvalue","value","deaths","recovered","loc","pconfirmed","pdeaths","precovered","foundlocation","find","itmInner","founddeaths","foundrecovered","recover","Region","Subregion","Deaths","Recovered","continent","values","current","t","reverse","pie","sort","arc","innerRadius","outerRadius","arcs","centroid","endAngle","startAngle","console","log","radius","on","formControl","minWidth","selectEmpty","Historical","valueby","setValue","valued","setValued","FormControl","InputLabel","Select","labelId","onChange","event","target","MenuItem","FormHelperText","justify","elevation","data-flip-widget","TwitterContainer","BarChart","temp","country","slice","y","nice","xAxis","scale","yAxis","format","trans1","exit","delay","ease","BarCharts","prevValue","usePreviousValue","e","useStyles1","flexShrink","TablePaginationActions","useTheme","count","page","rowsPerPage","onChangePage","onClick","disabled","direction","ceil","useStyles2","table","TableChart","React","setPage","setRowsPerPage","emptyRows","TableContainer","Table","TableBody","TableRow","backgroundColor","TableCell","toFixed","colSpan","TableFooter","TablePagination","rowsPerPageOptions","label","SelectProps","inputProps","native","newPage","onChangeRowsPerPage","parseInt","ActionsComponent","GoogleNewsFeed","parser","DOMParser","fetch","proxyurl","newsfeed","newsfeedbody","newsfeeddom","parseFromString","newsfeeditem","getElementsByTagName","layout","Array","from","setState","textContent","Card","CardContent","gutterBottom","CardActions","Button","size","open","withStyles","fontSize","TableCharts","GoogleNewsfeed","LineChart","bisectDate","date","left","formatValue","line","focus","classed","x0","invert","d0","d1","LineCharts","Set","itm","allowFullScreen","BarChartRace","barPadding","el","period","rank","colour","random","periodSlice","forEach","periodText","enter","ticker","bars","labels","valueLabels","replace","top_n","tween","stop","RaceCharts","DonutCharts","App","exact","render","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.f38e0f0b.chunk.js","sourcesContent":["import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { Link } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport PieChartIcon from '@material-ui/icons/PieChart';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport TableChartIcon from '@material-ui/icons/TableChart';\r\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\r\nimport FormatLineSpacingIcon from '@material-ui/icons/FormatLineSpacing';\r\n// import DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\n\r\nconst drawerWidth = 55;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(7),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n}));\r\n\r\n\r\n\r\nexport default function Navigation(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            className={clsx(classes.menuButton, classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n            Covid-19 Dashboard\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={0} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, classes.drawerPaperClose),\r\n        }}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to='/Dashboard'><DashboardIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Dashboard\" />\r\n          </ListItem>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to='/PieCharts'><PieChartIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"PieCharts\" />\r\n          </ListItem>\r\n          {/* <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to='/DonutCharts'><DonutLargeIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"DonutCharts\" />\r\n          </ListItem> */}\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to=\"/BarCharts\"><BarChartIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"BarCharts\" />\r\n          </ListItem>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to='/TableCharts'><TableChartIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"TableCharts\" />\r\n          </ListItem>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to='/LineCharts'><TrendingUpIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"LineCharts\" />\r\n          </ListItem>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to='/RaceCharts'><FormatLineSpacingIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"RaceCharts\" />\r\n          </ListItem>         \r\n          {/* <ListItem button>\r\n            <ListItemIcon>\r\n              <Link to='/Temps'><FormatLineSpacingIcon /></Link>\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Temps\" />\r\n          </ListItem>           */}\r\n        </List>\r\n      </Drawer>\r\n    </div >\r\n  )\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\n\r\n\r\nexport default function Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright © '}\r\n        <Link color=\"inherit\" href=\"https://itisit.com/\">\r\n          It is IT\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n  }","import * as d3 from 'd3'\r\n\r\nexport default function legend({\r\n    node,\r\n    xcor,\r\n    ycor,\r\n    color,\r\n    title,\r\n    tickSize = 6,\r\n    width = 320, \r\n    height = 44 + tickSize,\r\n    marginTop = 18,\r\n    marginRight = 0,\r\n    marginBottom = 16 + tickSize,\r\n    marginLeft = 0,\r\n    ticks = width / 64,\r\n    tickFormat,\r\n    tickValues\r\n} = {}) {\r\n\r\n    const svg = d3.select(node)\r\n        .append(\"svg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height)\r\n        .attr(\"viewBox\", [xcor, ycor, width, height])\r\n        .style(\"overflow\", \"visible\")\r\n        .style(\"display\", \"block\")\r\n\r\n    let tickAdjust = g => g.selectAll(\".tick line\").attr(\"y1\", marginTop + marginBottom - height)\r\n    let x\r\n\r\n    // Continuous\r\n    if (color.interpolate) {\r\n        const n = Math.min(color.domain().length, color.range().length)\r\n\r\n        x = color.copy().rangeRound(d3.quantize(d3.interpolate(marginLeft, width - marginRight), n))\r\n\r\n        svg.append(\"image\")        \r\n            .attr(\"x\", marginLeft)\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", width - marginLeft - marginRight)\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"preserveAspectRatio\", \"none\")\r\n            .attr(\"xlink:href\", ramp(color.copy().domain(d3.quantize(d3.interpolate(0, 1), n))).toDataURL())\r\n    }\r\n\r\n    // Sequential\r\n    else if (color.interpolator) {\r\n        x = Object.assign(color.copy()\r\n            .interpolator(d3.interpolateRound(marginLeft, width - marginRight)),\r\n            { range() { return [marginLeft, width - marginRight] } })\r\n\r\n        svg.append(\"image\")        \r\n            .attr(\"x\", marginLeft)\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", width - marginLeft - marginRight)\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"preserveAspectRatio\", \"none\")\r\n            .attr(\"xlink:href\", ramp(color.interpolator()).toDataURL())\r\n\r\n        // scaleSequentialQuantile doesn’t implement ticks or tickFormat.\r\n        if (!x.ticks) {\r\n            if (tickValues === undefined) {\r\n                const n = Math.round(ticks + 1)\r\n                tickValues = d3.range(n).map(i => d3.quantile(color.domain(), i / (n - 1)))\r\n            }\r\n            if (typeof tickFormat !== \"function\") {\r\n                tickFormat = d3.format(tickFormat === undefined ? \",f\" : tickFormat)\r\n            }\r\n        }\r\n    }\r\n\r\n    // Threshold\r\n    else if (color.invertExtent) {\r\n        const thresholds\r\n            = color.thresholds ? color.thresholds() // scaleQuantize\r\n                : color.quantiles ? color.quantiles() // scaleQuantile\r\n                    : color.domain() // scaleThreshold\r\n\r\n        const thresholdFormat\r\n            = tickFormat === undefined ? d => d\r\n                : typeof tickFormat === \"string\" ? d3.format(tickFormat)\r\n                    : tickFormat\r\n\r\n        x = d3.scaleLinear()\r\n            .domain([-1, color.range().length - 1])\r\n            .rangeRound([marginLeft, width - marginRight])\r\n\r\n        svg.append(\"g\")\r\n            .selectAll(\"rect\")\r\n            .data(color.range())\r\n            .join(\"rect\")\r\n            .attr(\"x\", (d, i) => x(i - 1))\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", (d, i) => x(i) - x(i - 1))\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"fill\", d => d)\r\n\r\n        tickValues = d3.range(thresholds.length)\r\n        tickFormat = i => thresholdFormat(thresholds[i], i)\r\n    }\r\n\r\n    // Ordinal\r\n    else {\r\n        x = d3.scaleBand()\r\n            .domain(color.domain())\r\n            .rangeRound([marginLeft, width - marginRight])\r\n\r\n        svg.append(\"g\")\r\n            .selectAll(\"rect\")\r\n            .data(color.domain())\r\n            .join(\"rect\")\r\n            .attr(\"x\", x)\r\n            .attr(\"y\", marginTop)\r\n            .attr(\"width\", Math.max(0, x.bandwidth() - 1))\r\n            .attr(\"height\", height - marginTop - marginBottom)\r\n            .attr(\"fill\", color)\r\n\r\n        tickAdjust = () => { }\r\n    }\r\n\r\n    svg.append(\"g\")\r\n        .attr(\"transform\", `translate(0,${height - marginBottom})`)\r\n        .call(d3.axisBottom(x)\r\n            .ticks(ticks, typeof tickFormat === \"string\" ? tickFormat : undefined)\r\n            .tickFormat(typeof tickFormat === \"function\" ? tickFormat : undefined)\r\n            .tickSize(tickSize)\r\n            .tickValues(tickValues))\r\n        .call(tickAdjust)\r\n        .call(g => g.select(\".domain\").remove())\r\n        .call(g => g.append(\"text\")\r\n            .attr(\"x\", marginLeft)\r\n            .attr(\"y\", marginTop + marginBottom - height - 6)\r\n            .attr(\"fill\", \"currentColor\")\r\n            .attr(\"text-anchor\", \"start\")\r\n            .attr(\"font-weight\", \"bold\")\r\n            .text(title))\r\n\r\n    return svg.node()\r\n}\r\n\r\nfunction ramp(color, n = 256) {\r\n    const canvas = document.createElement('canvas')\r\n    const context = canvas.getContext(\"2d\")\r\n    for (let i = 0; i < n; ++i) {\r\n        context.fillStyle = color(i / (n - 1))\r\n        context.fillRect(i, 0, 1, 1)\r\n    }\r\n    return canvas\r\n}","import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport * as topojson from 'topojson';\r\nimport legend from './d3color-legend';\r\n\r\n\r\nclass WorldChoropleth extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.drawChoropleth = this.drawChoropleth.bind(this);\r\n        this.state = {\r\n            covid: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawChoropleth();\r\n    }\r\n\r\n    drawChoropleth() {\r\n        const node = this.node;\r\n        const pdata = this.props.covid19;\r\n        const width = window.innerWidth;\r\n        const height = window.innerHeight;\r\n        const margin = { top: 55, right: 200, bottom: 55, left: 200 };        \r\n        //const outline = ({ type: \"Sphere\" })\r\n        const projection = d3.geoEqualEarth();\r\n        const path = d3.geoPath(projection);\r\n\r\n        if (pdata.length > 0) {\r\n            const confirmed = pdata[0];\r\n            const world = pdata[3];\r\n            let total = 0;\r\n\r\n            const data = confirmed.reduce((r, o) => {\r\n                const key = o['Country/Region'];\r\n                r.get(key) ? total += o.Value : total = o.Value;\r\n                return r.set(key, total);\r\n            }, new Map())\r\n\r\n            const countries = topojson.feature(world, (world.objects.countries));\r\n\r\n            const color = d3.scaleThreshold()\r\n                .domain([100, 500, 1000, 5000, 10000, 50000, 100000, 500000, 1000000])\r\n                .range(['rgb(222,235,247)', 'rgb(198,219,239)', 'rgb(158,202,225)',\r\n                    'rgb(107,174,214)', 'rgb(88,164,209)', 'rgb(66,146,198)', 'rgb(33,113,181)',\r\n                    'rgb(8,81,156)', 'rgb(8,48,107)']);\r\n\r\n            legend({\r\n                node: node,\r\n                xcor: -10,\r\n                ycor: -475,\r\n                color: d3.scaleThreshold([100, 500, 1000, 5000, 10000, 50000, 100000, 500000, 1000000],\r\n                    ['rgb(222,235,247)', 'rgb(198,219,239)', 'rgb(158,202,225)',\r\n                        'rgb(107,174,214)', 'rgb(88,164,209)', 'rgb(66,146,198)', 'rgb(33,113,181)',\r\n                        'rgb(8,81,156)', 'rgb(8,48,107)']),\r\n                title: \"Total\",\r\n                tickSize: 0,\r\n                width: 450\r\n            });\r\n\r\n            const svg = d3.select(node)\r\n                .style(\"display\", \"block\")\r\n                .attr(\"viewBox\", [0, 0, width - margin.left - margin.right, height - margin.top - margin.bottom]);\r\n\r\n            const g = svg.append(\"g\")\r\n                .attr(\"clip-path\", `url(${new URL(\"#clip\", window.location)})`);\r\n\r\n            // g.append(\"use\")\r\n            //     .attr(\"xlink:href\", new URL(\"#outline\", window.location))\r\n            //     .attr(\"fill\", \"white\");\r\n\r\n            g.append(\"g\")\r\n                .selectAll(\"path\")\r\n                .data(countries.features)\r\n                .join(\"path\")\r\n                .attr(\"fill\", (d) => color(data.get(d.properties.name)))\r\n                .attr(\"d\", path)\r\n                .append(\"title\")\r\n                .text(d =>\r\n                    `Country: ${d.properties.name} \\nTotal: ${data.has(d.properties.name) ? data.get(d.properties.name).toLocaleString() : \"N/A\"}`\r\n                );\r\n\r\n            g.append(\"path\")\r\n                .datum(topojson.mesh(world, world.objects.countries, (a, b) => a !== b))\r\n                .attr(\"fill\", \"none\")\r\n                .attr(\"stroke\", \"white\")\r\n                .attr(\"stroke-linejoin\", \"round\")\r\n                .attr(\"d\", path);\r\n\r\n           svg.append(\"text\")\r\n                .attr(\"class\", \"caption\")\r\n                .attr(\"x\", width - margin.left - margin.right - 200)\r\n                .attr(\"y\", height - margin.top - margin.bottom - 25)\r\n                .attr(\"font-size\", 12)\r\n                .text(\"*Source: data.humdata.org\");\r\n\r\n            // svg.append(\"use\")\r\n            //     .attr(\"xlink:href\", new URL(\"#outline\", window.location))\r\n            //     .attr(\"fill\", \"none\")\r\n            //     .attr(\"stroke\", \"black\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.drawChoropleth()\r\n        return <svg ref={node => { this.node = node }} />\r\n    }\r\n}\r\n\r\nexport default WorldChoropleth","import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport * as d3 from 'd3';\r\n// import GoogleAd from './google_ad';\r\n\r\nimport Navigation from './Navigation';\r\nimport Copyright from '../Copyright';\r\nimport WorldChoropleth from './WorldChoropleth';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    container_spacing: {\r\n        spacing: 3,\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 550,\r\n    },\r\n}));\r\n\r\n\r\nexport default function Dashboard(props) {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    const [covid19, setCovid19] = useState([])\r\n\r\n    const covid19data = (props) => {\r\n        // const covid19confirmed = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_confirmed_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_confirmed_global.csv\"\r\n        // const covid19deaths = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_deaths_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_deaths_global.csv\"\r\n        // const covid19recovered = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_recovered_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_recovered_global.csv\"\r\n        // const mapurl = \"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json\"\r\n        const covid19confirmed = \"time_series_covid19_confirmed_global_narrow.csv\"\r\n        const covid19deaths = \"time_series_covid19_deaths_global_narrow.csv\"\r\n        const covid19recovered = \"time_series_covid19_recovered_global_narrow.csv\"\r\n        const mapurl = \"countries-50m.json\"\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        const data = Promise.all([\r\n            d3.csv(covid19confirmed, d3.autoType).then((data) =>\r\n                data.filter((d) => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19deaths, d3.autoType).then((data) =>\r\n                data.filter((d) => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19recovered, d3.autoType).then((data) =>\r\n                data.filter((d) => parsedate(d.Date) === props.yesterday)),\r\n            d3.json(mapurl, d3.autoType),\r\n        ]).then((result) => {\r\n            const total_confirmed = result[0].reduce((tot, row) => { return tot + row.Value }, 0).toLocaleString();\r\n            const total_deaths = result[1].reduce((tot, row) => { return tot + row.Value }, 0).toLocaleString();\r\n            const total_recovered = result[2].reduce((tot, row) => { return tot + row.Value }, 0).toLocaleString();\r\n\r\n            setCovid19([result[0], result[1], result[2], result[3], total_confirmed, total_deaths, total_recovered]);\r\n\r\n            return data\r\n        });\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        let yesterday = new Date();\r\n        yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 2));\r\n        covid19data({ yesterday });\r\n    }, []);\r\n\r\n    const fbpagedata = [\r\n        { id: 0, source: \"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FWHO&tabs=timeline&width=340&height=500&small_header=true&adapt_container_width=true&hide_cover=false&show_facepile=true&appId=872606856535732\", title: \"World Health Organization\" },\r\n        { id: 1, source: \"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fcnn%2F&tabs=timeline&width=340&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId=872606856535732\", title: \"CNN\" },\r\n        { id: 2, source: \"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FChannelNewsAsia%2F&tabs=timeline&width=340&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId=872606856535732\", title: \"Channel News Asia\" },\r\n        { id: 3, source: \"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fbbcnews%2F&tabs=timeline&width=340&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId=872606856535732\", title: \"BBC\"},\r\n    ]\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Navigation covid19={props.covid19} />\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={8} lg={9}>\r\n                            <Paper className={fixedHeightPaper}>\r\n                                <Typography variant=\"h4\" component=\"h2\">\r\n                                    <WorldChoropleth covid19={covid19} />\r\n                                </Typography>\r\n                            </Paper>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4} lg={3} >\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} md={12} lg={12}>\r\n                                    <Paper style={{ height: 250 }}>\r\n                                        <Typography variant=\"h5\" component=\"h2\">\r\n                                            &nbsp;Summary\r\n                                    </Typography>\r\n                                        <Divider />\r\n                                        <Typography variant=\"subtitle1\" component=\"h2\">\r\n                                            &nbsp;Confirmed: {covid19[4]}\r\n                                        </Typography>\r\n                                        <Typography variant=\"subtitle1\" component=\"h2\" color=\"error\">\r\n                                            &nbsp;Deaths: {covid19[5]}\r\n                                        </Typography>\r\n                                        <Typography variant=\"subtitle1\" component=\"h2\">\r\n                                            &nbsp;Recovered: {covid19[6]}\r\n                                        </Typography>\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={12} md={12} lg={12}>\r\n                                    <Paper style={{ height: 250 }}>\r\n                                        {/* <GoogleAd\r\n                                            client=\"pub-3808734120638981\"\r\n                                            test=\"on\"\r\n                                            slot=\"Testing\"\r\n                                            format=\"auto\"\r\n                                        /> */}\r\n                                    </Paper>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={2}>\r\n                        {fbpagedata.map((row) => {\r\n                            return (\r\n                                <Grid item key={row.id} xs={12} md={5} lg={3}>\r\n                                    <Typography variant=\"h6\" component=\"h2\">\r\n                                        {row.title}\r\n                                    </Typography>\r\n                                    <Paper>\r\n                                        <iframe\r\n                                            src={row.source}\r\n                                            title={row.title}                                            \r\n                                            width=\"100%\"\r\n                                            height=\"500\"\r\n                                            scrolling=\"no\"\r\n                                            frameBorder=\"0\"\r\n                                            allow=\"encrypted-media\"\r\n                                        />\r\n                                    </Paper>\r\n                                </Grid>)\r\n                        })}\r\n                    </Grid>\r\n                    <Box pt={4}>\r\n                        <Copyright />\r\n                    </Box>\r\n                </Container>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from \"react\";\r\n\r\nconst FlipboardContainer = () => {\r\n\r\n    useEffect(() => {\r\n        const script = document.createElement(\"script\");\r\n        script.src = \"https://cdn.flipboard.com/web/buttons/js/flbuttons.min.js\";\r\n        document.getElementsByClassName(\"flipboard-embed\")[0].appendChild(script);\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"flipboardContainer\">\r\n            <div className=\"flipboard-embed\">\r\n                {/* <a \r\n                    data-flip-widget=\"mag\"\r\n                    href=\"https://flipboard.com/@time/coronavirus-k68errrbz\"\r\n                    >\r\n                    </a> */}\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default FlipboardContainer;","import React, { useRef } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\n\r\nexport default function DonutChart(props) {\r\n\r\n    const ref = useRef();\r\n    const pdata = props.covid19;\r\n    const pvalue = props.value;\r\n    let data = [];\r\n    const width = window.innerWidth;\r\n    const height = Math.max(width, window.innerHeight);\r\n\r\n    if (pdata.length > 0) {\r\n        const confirmed = pdata[0];\r\n        const deaths = pdata[1];\r\n        const recovered = pdata[2];\r\n        const loc = pdata[3];\r\n        const pconfirmed = pdata[4];\r\n        const pdeaths = pdata[5];\r\n        const precovered = pdata[6];\r\n\r\n        data = confirmed.map((item, i) => {\r\n            const foundlocation = loc.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n            const founddeaths = deaths.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n            const foundrecovered = recovered.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n            const recover = foundrecovered ? foundrecovered['Value'] : 0\r\n            return Object.assign({}, item,\r\n                { Region: foundlocation['Region Name'] },\r\n                { Subregion: foundlocation['Sub-region Name'] },\r\n                { Deaths: founddeaths['Value'] },\r\n                { Recovered: recover });\r\n        })\r\n\r\n        data = [...data.reduce((r, o) => {\r\n            const key = o.Region;\r\n            // const continent = o.Region === null ? 'Others' : o.Region;\r\n            const item = r.get(key) || Object.assign({}, { continent: o.Region }, { total: 0 });\r\n\r\n            switch (pvalue) {\r\n                case \"Confirmed\": item.total += o.Value / pconfirmed * 100;\r\n                    break;\r\n                case \"Deaths\": item.total += o.Deaths / pdeaths * 100;\r\n                    break;\r\n                case \"Recovered\": item.total += o.Recovered / precovered * 100;\r\n                    break;\r\n                default: item.total += o.Value / pconfirmed * 100;\r\n            }\r\n\r\n            return r.set(key, item);\r\n        }, new Map()).values()]        \r\n\r\n        const svg = d3.select(ref.current)\r\n            .attr(\"viewBox\", [-width / 2, -height / 2, width, height]);\r\n\r\n        // const color = d3.scaleOrdinal(d3.schemeCategory10);\r\n        const color = d3.scaleOrdinal()\r\n            .domain(data.map(d => d.continent))\r\n            .range(d3.quantize(t => d3.interpolateSpectral(t * 0.8 + 0.1), data.length).reverse())\r\n\r\n        const pie = d3.pie()\r\n            .sort(null)\r\n            .value((d) => d.total);\r\n\r\n        const arc = d3.arc()\r\n            .innerRadius(0)\r\n            .outerRadius(Math.min(width, height) / 2)\r\n\r\n        const arcs = pie(data);\r\n\r\n        svg.selectAll(\"path\")\r\n            .data(arcs)\r\n            .join(\"path\")\r\n            .attr(\"fill\", d => color(d.data.continent))\r\n            .attr(\"d\", arc);\r\n\r\n        if (pvalue === \"\") {\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .selectAll(\"text\")\r\n                .data(arcs)\r\n                .join(\"text\")\r\n                .attr(\"transform\", d => `translate(${arc.centroid(d)})`)\r\n                .call(text => text.append(\"tspan\")\r\n                    .attr(\"y\", \"-0.5em\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .text(d => d.data.continent))\r\n                .call(text => text.filter(d => (d.endAngle - d.startAngle) > 0.01).append(\"tspan\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"y\", \"0.7em\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .attr(\"fill-opacity\", 0.7)\r\n                    .text(d => d.data.total.toLocaleString()));\r\n        } else {\r\n            console.log(\"pie else\")\r\n            svg.selectAll(\"tspan\").remove();\r\n\r\n            svg.selectAll(\"text\")\r\n                .data(arcs)\r\n                .join(\"text\")\r\n                .attr(\"transform\", d => `translate(${arc.centroid(d)})`)\r\n                .call(text => text.append(\"tspan\")\r\n                    .attr(\"y\", \"-0.4em\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .text(d => d.data.continent))\r\n                .call(text => text.filter(d => (d.endAngle - d.startAngle) > 0.01).append(\"tspan\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"y\", \"0.7em\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .attr(\"fill-opacity\", 0.7)\r\n                    .text(d => d.data.total.toLocaleString()));\r\n        }\r\n    }\r\n\r\n    return <svg ref={ref} />\r\n}\r\n","import React, { useRef } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\n\r\nexport default function DonutChart(props) {\r\n\r\n    const ref = useRef();\r\n    const pdata = props.covid19;\r\n    const pvalue = props.value;\r\n    let data = [];\r\n    const width = window.innerWidth;\r\n    const height = Math.max(width, window.innerHeight);\r\n\r\n    if (pdata.length > 0) {\r\n        const confirmed = pdata[0];\r\n        const deaths = pdata[1];\r\n        const recovered = pdata[2];\r\n        const loc = pdata[3];\r\n\r\n        data = confirmed.map((item, i) => {\r\n            const foundlocation = loc.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n            const founddeaths = deaths.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n            const foundrecovered = recovered.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n            const recover = foundrecovered ? foundrecovered['Value'] : 0\r\n            return Object.assign({}, item,\r\n                { Region: foundlocation['Region Name'] },\r\n                { Subregion: foundlocation['Sub-region Name'] },\r\n                { Deaths: founddeaths['Value'] },\r\n                { Recovered: recover });\r\n        })\r\n\r\n        data = [...data.reduce((r, o) => {\r\n            const key = o.Region;\r\n            // const continent = o.Region === null ? 'Others' : o.Region;\r\n            const item = r.get(key) || Object.assign({}, { continent: o.Region }, { total: 0 });\r\n\r\n            switch (pvalue) {\r\n                case \"Confirmed\": item.total += o.Value;\r\n                    break;\r\n                case \"Deaths\": item.total += o.Deaths;\r\n                    break;\r\n                case \"Recovered\": item.total += o.Recovered;\r\n                    break;\r\n                default: item.total += o.Value;\r\n            }\r\n\r\n            return r.set(key, item);\r\n        }, new Map()).values()]\r\n\r\n        const svg = d3.select(ref.current)\r\n            .attr(\"viewBox\", [-width / 2, -height / 2, width, height]);\r\n\r\n        const radius = Math.min(width, height) / 2;\r\n        const color = d3.scaleOrdinal(d3.schemeCategory10);\r\n        const pie = d3.pie()\r\n            .sort(null)\r\n            .value((d) => d.total);\r\n\r\n        const arc = d3.arc()\r\n            .outerRadius(radius)\r\n            .innerRadius(radius - (radius / 2));\r\n\r\n        const arcs = pie(data);\r\n\r\n        svg.selectAll(\"path\")\r\n            .data(arcs)\r\n            .join(\"path\")\r\n            .attr(\"fill\", d => color(d.data.continent))\r\n            .attr(\"d\", arc)\r\n            .on(\"mouseover\", handleMouseOver)\r\n            .on(\"mouseout\", handleMouseOut);\r\n\r\n        if (pvalue === \"\") {\r\n\r\n            svg.append(\"g\")\r\n                .selectAll(\"text\")\r\n                .data(arcs)\r\n                .join(\"text\")\r\n                .attr(\"transform\", d => `translate(${arc.centroid(d)})`)\r\n                .call(text => text.append(\"tspan\")\r\n                    .attr(\"y\", \"-0.4em\")\r\n                    .attr(\"text-anchor\", \"middle\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .text(d => d.data.continent))\r\n                .call(text => text.filter(d => (d.endAngle - d.startAngle) > 0.01).append(\"tspan\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"y\", \"0.7em\")\r\n                    .attr(\"text-anchor\", \"middle\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .attr(\"fill-opacity\", 0.7)\r\n                    .text(d => d.data.total.toLocaleString()));\r\n        } else {\r\n            console.log(\"donut else\")\r\n            svg.selectAll(\"tspan\").remove();\r\n\r\n            svg.selectAll(\"text\")\r\n                .data(arcs)\r\n                .join(\"text\")\r\n                .attr(\"transform\", d => `translate(${arc.centroid(d)})`)\r\n                .call(text => text.append(\"tspan\")\r\n                    .attr(\"y\", \"-0.4em\")\r\n                    .attr(\"text-anchor\", \"middle\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .text(d => d.data.continent))\r\n                .call(text => text.filter(d => (d.endAngle - d.startAngle) > 0.01).append(\"tspan\")\r\n                    .attr(\"x\", 0)\r\n                    .attr(\"y\", \"0.7em\")\r\n                    .attr(\"text-anchor\", \"middle\")\r\n                    .attr(\"font-size\", \"50px\")\r\n                    .attr(\"fill-opacity\", 0.7)\r\n                    .text(d => d.data.total.toLocaleString()));\r\n        }\r\n\r\n        function handleMouseOver(data) {\r\n            svg.append(\"text\")\r\n                .datum(data)\r\n                .attr(\"x\", 0)\r\n                .attr(\"y\", 0 + radius / 10)\r\n                .attr(\"class\", \"text-tooltip\")\r\n                .style(\"text-anchor\", \"middle\")\r\n                .attr(\"fill\", (d) => color(d.data.total))\r\n                .text((d) => (d.data.total).toLocaleString())\r\n                .style(\"font-size\", \"100px\");\r\n        }\r\n\r\n        function handleMouseOut(data) {\r\n            svg.select(\".text-tooltip\").remove();\r\n        }\r\n    }\r\n\r\n    return <svg ref={ref} />\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport * as d3 from 'd3';\r\nimport FlipboardContainer from './FlipboardContainer';\r\n\r\nimport Navigation from './Navigation';\r\nimport Copyright from '../Copyright';\r\nimport PieChart from './PieChart';\r\nimport DonutChart from './DonutChart';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 400,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 115,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\n\r\nexport default function Historical(props) {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    const [covid19, setCovid19] = useState([]);\r\n\r\n    const covid19data = (props) => {\r\n        // const covid19confirmed = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_confirmed_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_confirmed_global.csv\"\r\n        // const covid19deaths = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_deaths_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_deaths_global.csv\"\r\n        // const covid19recovered = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_recovered_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_recovered_global.csv\"\r\n        const covid19confirmed = \"time_series_covid19_confirmed_global_narrow.csv\"\r\n        const covid19deaths = \"time_series_covid19_deaths_global_narrow.csv\"\r\n        const covid19recovered = \"time_series_covid19_recovered_global_narrow.csv\"\r\n        const locurl = \"locations.csv\"\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        const data = Promise.all([\r\n            d3.csv(covid19confirmed, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19deaths, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19recovered, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(locurl, d3.autoType),\r\n        ]).then(result => {\r\n            const total_confirmed = result[0].reduce((tot, row) => { return tot + row.Value }, 0);\r\n            const total_deaths = result[1].reduce((tot, row) => { return tot + row.Value }, 0);\r\n            const total_recovered = result[2].reduce((tot, row) => { return tot + row.Value }, 0);\r\n\r\n            setCovid19([result[0], result[1], result[2], result[3], total_confirmed, total_deaths, total_recovered]);\r\n        });\r\n        return data\r\n    }\r\n\r\n    useEffect(() => {\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\");\r\n        let yesterday = new Date();\r\n        yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 2));\r\n        covid19data({ yesterday });\r\n    }, []);\r\n\r\n\r\n    const valueby = [\"Confirmed\", \"Deaths\", \"Recovered\"];\r\n    const [value, setValue] = useState(\"\");\r\n    const [valued, setValued] = useState(\"\");\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    const handleChanged = (event) => {\r\n        setValued(event.target.value);\r\n    };\r\n\r\n    const flipboardleftdata = [\r\n        { id: 0, source: \"https://flipboard.com/@time/coronavirus-k68errrbz\", title: \"Time\" },\r\n        { id: 1, source: \"https://flipboard.com/@foxbusiness/coronavirus-d1mqgfrsz\", title: \"Fox Business\" },\r\n        { id: 2, source: \"https://flipboard.com/@mashable/coronavirus-7c2710kbz\", title: \"Mashable\" },\r\n    ]\r\n\r\n    const flipboardrightdata = [\r\n        { id: 0, source: \"https://flipboard.com/@cnbc/coronavirus-impact-on-the-economy-o28s96a0z\", title: \"CNBC\" },\r\n        { id: 1, source: \"https://flipboard.com/@euronews/coronavirus-g48p11mez\", title: \"Euro News\" },\r\n        { id: 2, source: \"https://flipboard.com/@tech/predicting-covid-19-using-a-i-n0cc32pl3muk063g\", title: \"Tech\" }\r\n    ]\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <FlipboardContainer />\r\n            <Navigation />\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={4} lg={4}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"pie-select-label\">% Rate</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"pie-select-label\"\r\n                                        id=\"pie-select\"\r\n                                        value={value}\r\n                                        onChange={handleChange}\r\n                                    >\r\n                                        {valueby.map((row) => {\r\n                                            return (<MenuItem key={row} value={row}>{row}</MenuItem>)\r\n                                        })}\r\n                                    </Select>\r\n                                </FormControl>\r\n                                <FormHelperText>*Source: data.humdata.org</FormHelperText>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <Paper className={fixedHeightPaper}>\r\n                                    <PieChart covid19={covid19} value={value} />\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4} lg={4}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"pie-select-label\">Cases</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"pie-select-label\"\r\n                                        id=\"pie-select\"\r\n                                        value={valued}\r\n                                        onChange={handleChanged}\r\n                                    >\r\n                                        {valueby.map((row) => {\r\n                                            return (<MenuItem key={row} value={row}>{row}</MenuItem>)\r\n                                        })}\r\n                                    </Select>\r\n                                </FormControl>\r\n                                <FormHelperText>*Source: data.humdata.org</FormHelperText>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <Paper className={fixedHeightPaper}>\r\n                                    <DonutChart covid19={covid19} value={valued} />\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} lg={2}>\r\n                            <Grid item xs={12} md={12} lg={12}>\r\n                                {flipboardleftdata.map((row) => {\r\n                                    return (\r\n                                        <Grid key={row.id} container justify=\"center\" spacing={1}>\r\n                                            <Grid item xs={12} md={12} lg={12}>\r\n                                                <div align=\"center\">\r\n                                                    <Paper elevation={0}>\r\n                                                        <a data-flip-widget=\"mag\" href={row.source}>{row.title}</a>\r\n                                                    </Paper>\r\n                                                </div>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    )\r\n                                })}\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} lg={2}>\r\n                            <Grid item xs={12} md={12} lg={12}>\r\n                                {flipboardrightdata.map((row) => {\r\n                                    return (\r\n                                        <Grid key={row.id} container justify=\"center\" spacing={1}>\r\n                                            <Grid item xs={12} md={12} lg={12}>\r\n                                                <div align=\"center\">\r\n                                                    <Paper elevation={0}>\r\n                                                        <a data-flip-widget=\"mag\" href={row.source}>{row.title}</a>\r\n                                                    </Paper>\r\n                                                </div>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    )\r\n                                })}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Box pt={4}>\r\n                        <Copyright />\r\n                    </Box>\r\n                </Container>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from \"react\";\r\n\r\nconst TwitterContainer = () => {\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://platform.twitter.com/widgets.js\";\r\n    document.getElementsByClassName(\"twitter-embed\")[0].appendChild(script);\r\n  }, []);\r\n\r\n  \r\n  return (\r\n    <section className=\"twitterContainer\">\r\n      <div className=\"twitter-embed\">\r\n        {/* <a\r\n          className=\"twitter-timeline\"\r\n          data-theme=\"dark\"\r\n          data-tweet-limit=\"5\"\r\n          data-chrome=\"noheader nofooter noborders\"\r\n          href=\"https://twitter.com/sporeMOH\"\r\n        >\r\n        </a> */}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TwitterContainer;","import React, { useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n\r\nexport default function BarChart(props) {\r\n\r\n    const ref = useRef();\r\n    const pdata = props.covid19;\r\n    const pvalue = props.value;\r\n    const margin = ({ top: 20, right: 20, bottom: 150, left: 70 });\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    const color = \"steelblue\";\r\n\r\n    if (pdata.length > 0) {\r\n        let temp = [];\r\n\r\n        switch (pvalue) {\r\n            case \"Confirmed\": temp = pdata[0];\r\n                break;\r\n            case \"Deaths\": temp = pdata[1];\r\n                break;\r\n            case \"Recovered\": temp = pdata[2];\r\n                break;\r\n            default: temp = pdata[0];\r\n        }\r\n\r\n        const data = [...temp.reduce((r, o) => {\r\n            const key = o['Country/Region'];\r\n            const item = r.get(key) || Object.assign({}, { country: o['Country/Region'] }, { total: 0 });\r\n            item.total += o.Value;\r\n            return r.set(key, item);\r\n        }, new Map()).values()].sort((a, b) => b.total - a.total)\r\n            .slice(0, 50)\r\n\r\n        const svg = d3.select(ref.current)\r\n            .attr(\"viewBox\", [0, 0, width, height]);\r\n\r\n        const x = d3.scaleBand()\r\n            .domain(d3.range(data.length))\r\n            .range([margin.left, width - margin.right])\r\n            .padding(0.1);\r\n\r\n        const y = d3.scaleLinear()\r\n            .domain([0, d3.max(data, d => d.total)]).nice()\r\n            .range([height - margin.bottom, margin.top]);\r\n\r\n        const xAxis = d3.axisBottom()\r\n            .scale(x)\r\n            .tickFormat(i => data[i].country);\r\n\r\n        const yAxis = d3.axisLeft()\r\n            .scale(y)\r\n            .ticks(15, data.format);\r\n\r\n        svg.append(\"text\")\r\n            .attr(\"x\", width / 2)\r\n            .attr(\"y\", height)\r\n            .attr(\"fill\", \"currentColor\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr(\"font-weight\", \"bold\")\r\n            .attr('font-size', '20px')\r\n            .text(\"Country\");\r\n\r\n        svg.append(\"text\")\r\n            .attr(\"transform\", \"rotate(-90)\")\r\n            .attr(\"x\", -height / 2)\r\n            .attr(\"y\", -margin.left)\r\n            .attr(\"dy\", \"1em\")\r\n            .attr(\"fill\", \"currentColor\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr(\"font-weight\", \"bold\")\r\n            .attr('font-size', '20px')\r\n            .text(\"Total\");\r\n\r\n        if (pvalue === \"\") {\r\n\r\n            svg.append('g')\r\n                .attr('class', 'x axis')\r\n                .attr(\"transform\", `translate(0,${height - margin.bottom})`)\r\n                .call(xAxis)\r\n                .attr('font-size', '16px')\r\n                .selectAll(\"text\")\r\n                .attr(\"transform\", \"rotate(-90)\")\r\n                .attr(\"text-anchor\", \"end\")\r\n                .attr(\"dx\", \"-.5em\")\r\n                .attr(\"dy\", \"-.5em\");\r\n\r\n            svg.append('g')\r\n                .attr('class', 'y axis')\r\n                .attr(\"transform\", `translate(${margin.left},0)`)\r\n                .call(yAxis)\r\n                .attr('font-size', '16px');\r\n\r\n            svg.append(\"g\")\r\n                .attr('class', '.rect')\r\n                .attr(\"fill\", color)\r\n                .selectAll(\"rect\")\r\n                .data(data)\r\n                .join(\"rect\")\r\n                .attr(\"x\", (d, i) => x(i))\r\n                .attr(\"y\", d => y(d.total))\r\n                .attr(\"height\", d => y(0) - y(d.total))\r\n                .attr(\"width\", x.bandwidth());\r\n\r\n        } else {\r\n\r\n            const trans = svg.transition().duration(300);\r\n            const trans1 = trans.transition();\r\n\r\n            svg.selectAll(\".rect\")\r\n                .exit()\r\n                .transition()\r\n                .delay(100)\r\n                .duration(300)\r\n                .remove();\r\n\r\n            svg.selectAll(\"rect\")\r\n                .data(data)\r\n                .transition()\r\n                .duration(1000)\r\n                .ease(d3.easeBounceOut)\r\n                .attr(\"x\", (d, i) => x(i))\r\n                .attr(\"y\", d => y(d.total))\r\n                .attr(\"height\", d => y(0) - y(d.total))\r\n                .attr(\"width\", x.bandwidth());\r\n\r\n            trans1.selectAll(\".x.axis\").call(xAxis);\r\n            trans1.selectAll(\".y.axis\").call(yAxis);\r\n        }\r\n    }\r\n\r\n    return <svg ref={ref} />\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport * as d3 from 'd3';\r\nimport TwitterContainer from './TwitterContainer';\r\n\r\nimport Navigation from './Navigation';\r\nimport Copyright from '../Copyright';\r\nimport BarChart from './BarChart';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 450,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 115,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\n\r\nexport default function BarCharts(props) {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    const [covid19, setCovid19] = useState([])\r\n\r\n    const covid19data = (props) => {\r\n        // const covid19confirmed = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_confirmed_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_confirmed_global.csv\"\r\n        // const covid19deaths = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_deaths_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_deaths_global.csv\"\r\n        // const covid19recovered = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_recovered_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_recovered_global.csv\"\r\n        const covid19confirmed = \"time_series_covid19_confirmed_global_narrow.csv\"\r\n        const covid19deaths = \"time_series_covid19_deaths_global_narrow.csv\"\r\n        const covid19recovered = \"time_series_covid19_recovered_global_narrow.csv\"\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        const data = Promise.all([\r\n            d3.csv(covid19confirmed, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19deaths, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19recovered, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n        ]).then(result => {\r\n            setCovid19([result[0], result[1], result[2]]);\r\n        });\r\n        return data\r\n    }\r\n\r\n    useEffect(() => {\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        let yesterday = new Date();\r\n        yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 2));\r\n        covid19data({ yesterday });\r\n    }, []);\r\n\r\n    const usePreviousValue = value => {\r\n        const ref = useRef();\r\n        useEffect(() => {\r\n            ref.current = value;\r\n        });\r\n        return ref.current;\r\n    };\r\n\r\n    const valueby = [\"Confirmed\", \"Deaths\", \"Recovered\"];\r\n    const [value, setValue] = useState(\"\");\r\n    const prevValue = usePreviousValue(value);\r\n\r\n    const twitterdata = [\r\n        // { id: 0, source: \"https://twitter.com/WHO\", title: \"World Health Organization\" },\r\n        { id: 1, source: \"https://twitter.com/ChannelNewsAsia\", title: \"Channel News Asia\" },\r\n        { id: 2, source: \"https://twitter.com/bbcworld\", title: \"BBC World\" },\r\n        { id: 3, source: \"https://twitter.com/CNN\", title: \"CNN\" },\r\n        { id: 4, source: \"https://twitter.com/EuroNews\", title: \"Euro News\" },\r\n    ];\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <TwitterContainer />\r\n            <Navigation />\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={6} lg={9}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"bar-select-label\">Top 50 Cases</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"bar-select-label\"\r\n                                        id=\"bar-select\"\r\n                                        value={value}\r\n                                        onChange={e => setValue(e.target.value)}\r\n                                    >\r\n                                        {valueby.map((row) => {\r\n                                            return (<MenuItem key={row} value={row}>{row}</MenuItem>)\r\n                                        })}\r\n                                    </Select>\r\n                                </FormControl>\r\n                                <FormHelperText>*Source: data.humdata.org</FormHelperText>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <Paper className={fixedHeightPaper}>\r\n                                    <BarChart covid19={covid19} value={value} prevValue={prevValue} />\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={3} lg={3}>\r\n                            <Paper className={fixedHeightPaper}>\r\n                                <a className=\"twitter-timeline\" href=\"https://twitter.com/WHO\">WHO</a>\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={2}>\r\n                        {twitterdata.map((row) => {\r\n                            return (\r\n                                <Grid item key={row.id} xs={12} md={3} lg={3}>\r\n                                    <Paper className={fixedHeightPaper}>\r\n                                        <a className=\"twitter-timeline\" href={row.source}>{row.title}</a>\r\n                                    </Paper>\r\n                                </Grid>)\r\n                        })}\r\n                    </Grid>\r\n                    <Box pt={4}>\r\n                        <Copyright />\r\n                    </Box>\r\n                </Container>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\n\r\nconst useStyles1 = makeStyles((theme) => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    marginLeft: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nfunction TablePaginationActions(props) {\r\n  const classes = useStyles1();\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n  const handleFirstPageButtonClick = (event) => {\r\n    onChangePage(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event) => {\r\n    onChangePage(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event) => {\r\n    onChangePage(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event) => {\r\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n      </IconButton>\r\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n  count: PropTypes.number.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles2 = makeStyles({\r\n  table: {\r\n    minWidth: 500,\r\n  },\r\n});\r\n\r\nexport default function TableChart(props) {\r\n  const classes = useStyles2();\r\n  const pdata = props.covid19;\r\n  let data = [];\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(30);\r\n\r\n  if (pdata.length > 0) {\r\n    const confirmed = pdata[0];\r\n    const deaths = pdata[1];\r\n    const recovered = pdata[2];\r\n    const loc = pdata[3];\r\n\r\n    data = confirmed.map((item, i) => {\r\n      const foundlocation = loc.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n      const founddeaths = deaths.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n      const foundrecovered = recovered.find((itmInner) => itmInner['Province/State'] === confirmed[i]['Province/State'] && itmInner['Country/Region'] === confirmed[i]['Country/Region']);\r\n      const recover = foundrecovered ? foundrecovered['Value'] : 0\r\n      return Object.assign({}, item,\r\n        { Region: foundlocation['Region Name'] },\r\n        { Subregion: foundlocation['Sub-region Name'] },\r\n        { Deaths: founddeaths['Value'] },\r\n        { Recovered: recover });\r\n    })\r\n\r\n    data.sort((a, b) => a['Region Code'] - b['Region Code']);\r\n  }\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, (data.length > 0 ? data.length : 0) - page * rowsPerPage);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n\r\n  return (\r\n    data.length > 0 ? (\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} aria-label=\"custom pagination table\">\r\n          <TableBody>\r\n            <TableRow style={{ backgroundColor: \"#3F51B5\" }} key={\"Header\"}>\r\n              <TableCell style={{ color: \"white\" }}>Region</TableCell>\r\n              <TableCell style={{ color: \"white\" }} component=\"th\" >Countries</TableCell>\r\n              <TableCell style={{ color: \"white\" }}>Province/State</TableCell>\r\n              <TableCell style={{ color: \"white\" }}>Confirmed</TableCell>\r\n              <TableCell style={{ color: \"white\" }}>Deaths</TableCell>\r\n              <TableCell style={{ color: \"white\" }}>Rate</TableCell>              \r\n              <TableCell style={{ color: \"white\" }}>Recovered</TableCell>\r\n              <TableCell style={{ color: \"white\" }}>Rate</TableCell>\r\n            </TableRow>\r\n            {(rowsPerPage > 0\r\n              ? data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              : data\r\n            ).map((row) => (\r\n              <TableRow key={row.Region + row.Subregion + row['Country/Region'] + row['Province/State']}>\r\n                <TableCell component=\"th\">{row.Region}</TableCell>\r\n                <TableCell component=\"th\">{row['Country/Region']}</TableCell>\r\n                <TableCell component=\"th\">{row['Province/State']}</TableCell>\r\n                <TableCell align=\"right\">{row.Value.toLocaleString()}</TableCell>\r\n                <TableCell align=\"right\">{row.Deaths.toLocaleString()}</TableCell>\r\n                <TableCell align=\"right\">{((row.Deaths / row.Value) * 100).toFixed(2).toLocaleString()}</TableCell>                \r\n                <TableCell align=\"right\">{row.Recovered.toLocaleString()}</TableCell>\r\n                <TableCell align=\"right\">{((row.Recovered / row.Value) * 100).toFixed(2).toLocaleString()}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n\r\n            {emptyRows > 0 && (\r\n              <TableRow style={{ height: 60 * emptyRows }}>\r\n                <TableCell colSpan={6} />\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n          <TableFooter>\r\n            <TableRow>\r\n              <TablePagination\r\n                rowsPerPageOptions={[30, 60, 90, 150, { label: 'All', value: -1 }]}\r\n                colSpan={9}\r\n                count={data.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                SelectProps={{\r\n                  inputProps: { 'aria-label': 'rows per page' },\r\n                  native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                ActionsComponent={TablePaginationActions}\r\n              />\r\n            </TableRow>\r\n          </TableFooter>\r\n        </Table>\r\n      </TableContainer>\r\n    ) : null\r\n  );\r\n}","import React, { Component } from 'react';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nconst useStyles = theme => ({\r\n    root: {\r\n        minWidth: 275,\r\n        padding: 5,\r\n    },\r\n    title: {\r\n        fontSize: 12,\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n});\r\n\r\nclass GoogleNewsFeed extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            data: null,\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n        const url = \"https://news.google.com/rss/search?q=covid19\";\r\n        const parser = new DOMParser();\r\n\r\n        const newsfeed = await fetch(proxyurl + url);\r\n        const newsfeedbody = await newsfeed.text();\r\n        const newsfeeddom = parser.parseFromString(newsfeedbody, \"text/xml\");\r\n        const newsfeeditem = newsfeeddom.getElementsByTagName(\"item\");\r\n        const layout = Array.from(newsfeeditem);\r\n        this.setState({ data: layout })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            this.state.data ? (\r\n                (this.state.data.slice(0, 10)).map((row) => (\r\n                    <Grid key={row.getElementsByTagName(\"guid\")[0].textContent} container spacing={2}>\r\n                        <Grid item xs={6} md={10} lg={12}>\r\n                            <Card className={classes.root}>\r\n                                <CardContent className={classes.root}>\r\n                                    <Typography className={classes.title} gutterBottom> {row.getElementsByTagName(\"pubDate\")[0].textContent} </Typography>\r\n                                    <Typography color=\"primary\" variant=\"h6\"> {row.getElementsByTagName(\"source\")[0].textContent} </Typography>\r\n                                    <Typography variant=\"body2\"> {row.getElementsByTagName(\"title\")[0].textContent} </Typography>\r\n                                </CardContent>\r\n                                <CardActions>\r\n                                    <Button color=\"primary\" size=\"small\" onClick={()=> window.open(row.getElementsByTagName(\"link\")[0].textContent)}>More</Button>\r\n                                </CardActions>\r\n                            </Card>\r\n                        </Grid>\r\n                    </Grid>\r\n                ))\r\n            ) : null\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(useStyles)(GoogleNewsFeed);","import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport * as d3 from 'd3';\r\n\r\nimport Navigation from './Navigation';\r\nimport Copyright from '../Copyright';\r\nimport TableChart from './TableChart';\r\nimport GoogleNewsfeed from './GoogleNewsfeed';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 1750,\r\n    },\r\n}));\r\n\r\n\r\nexport default function TableCharts(props) {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    const [covid19, setCovid19] = useState([])\r\n\r\n    const covid19data = (props) => {\r\n        // const covid19confirmed = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_confirmed_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_confirmed_global.csv\"\r\n        // const covid19deaths = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_deaths_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_deaths_global.csv\"\r\n        // const covid19recovered = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_recovered_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_recovered_global.csv\"\r\n        const covid19confirmed = \"time_series_covid19_confirmed_global_narrow.csv\"\r\n        const covid19deaths = \"time_series_covid19_deaths_global_narrow.csv\"\r\n        const covid19recovered = \"time_series_covid19_recovered_global_narrow.csv\"\r\n        const locurl = \"locations.csv\"\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        const data = Promise.all([\r\n            d3.csv(covid19confirmed, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19deaths, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19recovered, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(locurl, d3.autoType),\r\n        ]).then(result => {\r\n            setCovid19([result[0], result[1], result[2], result[3]]);\r\n        });\r\n        return data\r\n    }\r\n\r\n    useEffect(() => {\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        let yesterday = new Date();\r\n        yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 2));\r\n        covid19data({ yesterday });\r\n    }, []);\r\n\r\n    // const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n    // const url = \"https://news.google.com/rss/search?q=covid19&num=10\";\r\n\r\n    // const googlenewsfeed = fetch(proxyurl + url)\r\n    //     .then(body => body.text())\r\n    //     .then(result => {\r\n    //         const parser = new DOMParser();            \r\n    //         const dom = parser.parseFromString(result, \"text/xml\");\r\n    //         return result = dom.getElementsByTagName(\"item\");\r\n    //     });\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Navigation covid19={props.covid19} />\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={8} lg={9}>\r\n                            <Paper className={fixedHeightPaper}>\r\n                                <FormHelperText>*Source: data.humdata.org</FormHelperText>\r\n                                <TableChart covid19={covid19} />\r\n                            </Paper>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4} lg={3}>\r\n                            <Grid item xs={12} md={4} lg={12}>\r\n                                <GoogleNewsfeed />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Box pt={4}>\r\n                        <Copyright />\r\n                    </Box>\r\n                </Container>\r\n            </main>\r\n        </div >\r\n    )\r\n}","import React, { useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n\r\nexport default function LineChart(props) {\r\n\r\n    const ref = useRef()\r\n    const pdata = props.covid19;\r\n    const pvalue = props.value;\r\n    const margin = { top: 20, right: 20, bottom: 20, left: 70 };\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n\r\n    const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n    const bisectDate = d3.bisector(d => d.date).left;\r\n    const formatValue = d3.format(',.0f');\r\n\r\n    if (pdata.length > 0) {\r\n\r\n        const temp = pvalue === \"\" ? pdata[0] : pdata[0].filter((d) => (d['Country/Region'] === pvalue));\r\n\r\n        const data = [...temp.reduce((r, o) => {\r\n            const key = parsedate(o.Date);\r\n            const item = r.get(key) || Object.assign({}, { country: o['Country/Region'] }, { date: o.Date }, { total: 0 });\r\n            item.total += o.Value;\r\n            return r.set(key, item);\r\n        }, new Map()).values()]\r\n\r\n        data.sort((a, b) => a.date - b.date);\r\n\r\n        const svg = d3.select(ref.current)\r\n            .attr(\"viewBox\", [0, -10, width + margin.left + margin.right + 10, height + margin.top + margin.bottom]);\r\n\r\n        const x = d3.scaleTime()\r\n            .domain([data[0].date, data[data.length - 1].date])\r\n            .range([0, width]);\r\n\r\n        const y = d3.scaleLinear()\r\n            .domain(d3.extent(data, d => d.total)).nice()\r\n            .range([height, 0]);\r\n\r\n        const line = d3.line()\r\n            .x(d => x(d.date))\r\n            .y(d => y(d.total));\r\n\r\n        const xAxis = d3.axisBottom()\r\n            .scale(x);\r\n\r\n        const yAxis = d3.axisLeft()\r\n            .scale(y);\r\n\r\n        const focus = svg.append('g')\r\n            .attr('class', 'focus')\r\n            .style('display', 'none');\r\n\r\n\r\n        if (pvalue === \"\") {\r\n\r\n            svg.append('g')\r\n                .attr('class', 'x axis')\r\n                .style(\"font\", \"20px times\")\r\n                .attr('transform', `translate(0, ${height})`)\r\n                .call(xAxis);\r\n\r\n            svg.append('g')\r\n                .attr('class', 'y axis')\r\n                .style(\"font\", \"20px times\")\r\n                .call(yAxis)\r\n                .append('text')\r\n                .attr('class', 'axis-title')\r\n                .attr('transform', 'rotate(-90)')\r\n                .attr('y', 6)\r\n                .attr('dy', '.71em')\r\n                .style('text-anchor', 'end')\r\n                .text('Total Cases');\r\n\r\n            svg.append('path')\r\n                .datum(data)\r\n                .attr('class', 'line')\r\n                .attr('d', line);\r\n\r\n            focus.append('circle')\r\n                .attr('r', 4.5);\r\n\r\n            focus.append('line')\r\n                .classed('x', true);\r\n\r\n            focus.append('line')\r\n                .classed('y', true);\r\n\r\n            focus.append('text')\r\n                .attr('x', 9)\r\n                .attr('dy', '.35em');\r\n\r\n            svg.append('rect')\r\n                .attr('class', 'overlay')\r\n                .attr('width', width)\r\n                .attr('height', height)\r\n                .attr('opacity', 0.0)\r\n                .on('mouseover', () => focus.style('display', null))\r\n                .on('mouseout', () => focus.style('display', 'none'))\r\n                .on('mousemove', mousemove);\r\n\r\n            d3.selectAll('.line')\r\n                .style(\"fill\", 'none')\r\n                .style(\"stroke\", 'steelblue')\r\n                .style(\"stroke-width\", '1.5px');\r\n\r\n            d3.select('.overlay')\r\n                .style(\"fill\", 'none')\r\n                .style(\"pointer-events\", 'all');\r\n\r\n            d3.selectAll('.focus')\r\n                .style('opacity', 0.7);\r\n\r\n            d3.selectAll('.focus circle')\r\n                .style(\"fill\", 'none')\r\n                .style(\"stroke\", 'black');\r\n\r\n            d3.selectAll('.focus line')\r\n                .style(\"fill\", 'none')\r\n                .style(\"stroke\", 'black')\r\n                .style(\"stroke-width\", '1.5px')\r\n                .style(\"stroke-dasharray\", '3 3');\r\n\r\n        } else {\r\n\r\n            const trans = svg.transition().duration(300);\r\n            const trans1 = trans.transition();\r\n\r\n            svg.selectAll(\"path.line\").datum(data);\r\n\r\n            trans1.selectAll(\"path.line\").attr(\"d\", line);\r\n            trans1.selectAll(\".x.axis\").call(xAxis);\r\n            trans1.selectAll(\".y.axis\").call(yAxis);\r\n        }\r\n\r\n        function mousemove() {\r\n            const x0 = x.invert(d3.mouse(this)[0]);\r\n            const i = bisectDate(data, x0, 1);\r\n            const d0 = data[i - 1];\r\n            const d1 = data[i];\r\n            const d = x0 - d0.date > d1.date - x0 ? d1 : d0;\r\n            focus.attr('transform', `translate(${x(d.date)}, ${y(d.total)})`);\r\n            focus.select('line.x')\r\n                .attr('x1', 0)\r\n                .attr('x2', -x(d.date))\r\n                .attr('y1', 0)\r\n                .attr('y2', 0);\r\n\r\n            focus.select('line.y')\r\n                .attr('x1', 0)\r\n                .attr('x2', 0)\r\n                .attr('y1', 0)\r\n                .attr('y2', height - y(d.total));\r\n\r\n            focus.select('text')\r\n                .attr(\"font-size\", 20)\r\n                .style('font-weight', 900)\r\n                .text(formatValue(d.total));\r\n        }\r\n\r\n    }\r\n\r\n    return <svg ref={ref} />\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Select from '@material-ui/core/Select';\r\nimport * as d3 from 'd3';\r\n\r\nimport Navigation from './Navigation';\r\nimport Copyright from '../Copyright';\r\nimport LineChart from './LineChart';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 400,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\n\r\nexport default function LineCharts(props) {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    const [covid19, setCovid19] = useState([])\r\n\r\n    const covid19data = (props) => {\r\n        // const covid19confirmed = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_confirmed_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_confirmed_global.csv\"\r\n        // const covid19deaths = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_deaths_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_deaths_global.csv\"\r\n        // const covid19recovered = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_recovered_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_recovered_global.csv\"\r\n        const covid19confirmed = \"time_series_covid19_confirmed_global_narrow.csv\"\r\n        const covid19deaths = \"time_series_covid19_deaths_global_narrow.csv\"\r\n        const covid19recovered = \"time_series_covid19_recovered_global_narrow.csv\"\r\n        const data = Promise.all([\r\n            d3.csv(covid19confirmed, d3.autoType).then(data =>\r\n                data.filter(d => d['Country/Region'] !== \"#country+name\")),\r\n            d3.csv(covid19deaths, d3.autoType).then(data =>\r\n                data.filter(d => d['Country/Region'] !== \"#country+name\")),\r\n            d3.csv(covid19recovered, d3.autoType).then(data =>\r\n                data.filter(d => d['Country/Region'] !== \"#country+name\")),\r\n        ]).then(result => {\r\n            setCovid19([result[0], result[1], result[2]]);\r\n        });\r\n        return data\r\n    }\r\n\r\n    useEffect(() => {\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        let yesterday = new Date();\r\n        yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 2));\r\n        covid19data({ yesterday });\r\n    }, []);\r\n\r\n    let countries = [];\r\n    if (covid19.length > 0) {\r\n        countries = [...new Set(covid19[0].map(itm => itm['Country/Region']))];\r\n    }\r\n\r\n    const [value, setValue] = useState(\"\");\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    const youtubedata = [\r\n        { id: 0, source: \"https://www.youtube.com/embed/9Auq9mYxFEE\", title: \"CNA News\" },\r\n        // { id: 1, source: \"https://www.youtube.com/embed/9Auq9mYxFEE\", title: \"Sky News\" },\r\n        { id: 2, source: \"https://www.youtube.com/embed/w_Ma8oQLmSM\", title: \"ABC News\" },\r\n        { id: 3, source: \"https://www.youtube.com/embed/tPeUHECNLKs\", title: \"NBC News\" },\r\n        { id: 4, source: \"https://www.youtube.com/embed/BJzSJlMwQcA\", title: \"Euro News\" },\r\n    ];\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Navigation covid19={props.covid19} />\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={6} lg={9}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"countries-select-label\">Countries</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"countries-select-label\"\r\n                                        id=\"countries-select\"\r\n                                        value={value}\r\n                                        onChange={handleChange}\r\n                                    >\r\n                                        {countries.map((row) => (\r\n                                            <MenuItem key={row} value={row}>{row}</MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                </FormControl>\r\n                                <FormHelperText>*Source: data.humdata.org</FormHelperText>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <Paper className={fixedHeightPaper}>\r\n                                    <LineChart covid19={covid19} value={value} />\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4} lg={3}>\r\n                            {youtubedata.map((row) => {\r\n                                return (<Grid item key={row.id} xs={12} md={4} lg={12}>\r\n                                    <Typography variant=\"h6\" component=\"h2\">{row.title}</Typography>\r\n                                    <Paper>\r\n                                        <div\r\n                                            className=\"video\"\r\n                                            style={{\r\n                                                position: \"relative\",\r\n                                                paddingBottom: \"56.25%\",\r\n                                                paddingTop: 10,\r\n                                                height: 0\r\n                                            }}\r\n                                        >\r\n                                            <iframe\r\n                                                style={{\r\n                                                    position: \"absolute\",\r\n                                                    width: \"100%\",\r\n                                                    height: \"90%\"\r\n                                                }}\r\n                                                src={row.source}\r\n                                                frameBorder='0'\r\n                                                allow='autoplay; encrypted-media'\r\n                                                allowFullScreen\r\n                                                title={row.title}\r\n                                            />\r\n                                        </div>\r\n                                    </Paper>\r\n                                </Grid>)\r\n                            })}\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Box pt={4}>\r\n                        <Copyright />\r\n                    </Box>\r\n                </Container>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import React, { useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n\r\nexport default function BarChartRace(props) {\r\n\r\n  const ref = useRef();\r\n  const pdata = props.covid19;\r\n  const pvalue = props.value;\r\n  const tickDuration = 500;\r\n  const top_n = 15;\r\n  const width = window.innerWidth;\r\n  const height = window.innerHeight;\r\n  const margin = { top: 20, right: 0, bottom: 0, left: 0 };\r\n  let barPadding = (height - (margin.bottom + margin.top)) / (top_n * 5);\r\n\r\n  d3.selectAll(\"g\").remove();\r\n\r\n  const el = d3.select(ref.current)\r\n    .attr(\"viewBox\", [-120, 0, width + 200, height]);\r\n\r\n  d3.selectAll(\"g\").remove();\r\n\r\n  const svg = el.append(\"g\")\r\n    .attr('width', width)\r\n    .attr('height', height);\r\n\r\n  const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n  let yesterday = new Date();\r\n  yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 2));\r\n  let period = new Date(\"2020-02-01\");\r\n  let temp = [];\r\n\r\n  if (pdata.length > 0) {\r\n\r\n    switch (pvalue) {\r\n      case \"Confirmed\": temp = pdata[0];\r\n        break;\r\n      case \"Deaths\": temp = pdata[1];\r\n        break;\r\n      case \"Recovered\": temp = pdata[2];\r\n        break;\r\n      default: temp = pdata[0];\r\n    }\r\n\r\n    const data = [...temp.reduce((r, o) => {\r\n      const key = o['Country/Region'] + parsedate(o.Date);\r\n      const item = r.get(key) || Object.assign({}, { country: o['Country/Region'] }, { date: o.Date }, { total: 0 }, { rank: 1 }, { colour: d3.hsl(Math.random() * 360, 0.75, 0.75) });\r\n      item.total += o.Value;\r\n      return r.set(key, item);\r\n    }, new Map()).values()]\r\n\r\n\r\n    let periodSlice = data.filter(d => (+d.date === +period) && (d.total < 5000000))\r\n      .sort((a, b) => b.total - a.total)\r\n      .slice(0, top_n);\r\n\r\n    periodSlice.forEach((d, i) => d.rank = i);\r\n\r\n    let x = d3.scaleLinear()\r\n      .domain([0, d3.max(periodSlice, d => d.total)])\r\n      .range([margin.left, width - margin.right]);\r\n\r\n    let y = d3.scaleLinear()\r\n      .domain([top_n, 0])\r\n      .range([height - margin.bottom, margin.top]);\r\n\r\n    let xAxis = d3.axisTop()\r\n      .scale(x)\r\n      .ticks(width > 500 ? 10 : 5)\r\n      .tickSize(-(height - margin.top - margin.bottom))\r\n      .tickFormat(d => d3.format(',')(d));\r\n\r\n    const subTitle = svg.append(\"text\")\r\n      .attr(\"font-size\", 16)\r\n      .attr(\"x\", margin.left + 10)\r\n      .attr(\"y\", margin.top - 5);\r\n\r\n    subTitle.text(\"Countries\");\r\n\r\n    // const caption = svg.append('text')\r\n    //   .attr(\"font-size\", 16)\r\n    //   .attr('x', width)\r\n    //   .attr('y', height - 5)\r\n    //   .style('text-anchor', 'end');\r\n\r\n    // caption.text('*Source: data.humdata.org');\r\n\r\n    let periodText = svg.append('text')\r\n      .attr('class', 'periodText')\r\n      .attr('x', width - margin.right)\r\n      .attr('y', height - 25)\r\n      .attr(\"font-size\", 35)\r\n      .style('text-anchor', 'end')\r\n      .text(parsedate(period));\r\n\r\n    svg.append('g')\r\n      .attr('transform', `translate(0, ${margin.top})`)\r\n      .style(\"font\", \"16px times\")\r\n      .call(xAxis)\r\n      .selectAll('.tick line')\r\n      .classed('origin', d => d === 0);\r\n\r\n    svg.selectAll('rect.bar')\r\n      .data(periodSlice, d => d.country)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('class', 'bar')\r\n      .attr('x', x(0) + 1)\r\n      .attr('width', d => x(d.total) - x(0))\r\n      .attr('y', d => y(d.rank) + 5)\r\n      .attr('height', y(1) - y(0) - barPadding)\r\n      .style('fill', d => d.colour);\r\n\r\n    svg.selectAll('text.label')\r\n      .data(periodSlice, d => d.country)\r\n      .enter()\r\n      .append('text')\r\n      .attr('class', 'label')\r\n      .attr('x', d => x(d.total) - 8)\r\n      .attr('y', d => y(d.rank) + 5 + ((y(1) - y(0)) / 2) + 1)\r\n      .attr(\"font-size\", 16)\r\n      .style('text-anchor', 'end')\r\n      .text(d => d.country);\r\n\r\n    svg.selectAll('text.valueLabel')\r\n      .data(periodSlice, d => d.country)\r\n      .enter()\r\n      .append('text')\r\n      .attr('class', 'valueLabel')\r\n      .attr('x', d => x(d.total) + 5)\r\n      .attr('y', d => y(d.rank) + 5 + ((y(1) - y(0)) / 2) + 1)\r\n      .attr(\"font-size\", 16)\r\n      .text(d => d3.format(',.0f')(d.total));\r\n\r\n\r\n    let ticker = d3.interval(e => {\r\n\r\n      periodSlice = data.filter(d => (+d.date === +period) && (d.total < 5000000))\r\n        .sort((a, b) => b.total - a.total)\r\n        .slice(0, top_n);\r\n\r\n      periodSlice.forEach((d, i) => d.rank = i);\r\n\r\n      x.domain([0, d3.max(periodSlice, d => d.total)]);\r\n\r\n      svg.select('.xAxis')\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .call(xAxis);\r\n\r\n      let bars = svg.selectAll('.bar').data(periodSlice, d => d.country);\r\n      let labels = svg.selectAll('.label').data(periodSlice, d => d.country);\r\n      let valueLabels = svg.selectAll('.valueLabel').data(periodSlice, d => d.country);\r\n\r\n\r\n      bars\r\n        .enter()\r\n        .append('rect')\r\n        .attr('class', d => `bar ${d.country.replace(/\\s/g, '_')}`)\r\n        .attr('x', x(0) + 1)\r\n        .attr('width', d => x(d.total) - x(0))\r\n        .attr('y', d => y(top_n + 1) + 5)\r\n        .attr('height', y(1) - y(0) - barPadding)\r\n        .style('fill', d => d.colour)\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr('y', d => y(d.rank) + 5);\r\n\r\n      bars\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr('width', d => x(d.total) - x(0))\r\n        .attr('y', d => y(d.rank) + 5);\r\n\r\n      bars\r\n        .exit()\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr('width', d => x(d.total) - x(0))\r\n        .attr('y', d => y(top_n + 1) + 5)\r\n        .remove();\r\n\r\n\r\n      labels\r\n        .enter()\r\n        .append('text')\r\n        .attr('class', 'label')\r\n        .attr('x', d => x(d.total) - 8)\r\n        .attr('y', d => y(top_n + 1) + 5 + ((y(1) - y(0)) / 2))\r\n        .style('text-anchor', 'end')\r\n        .text(d => d.country)\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr(\"font-size\", 16)\r\n        .attr('y', d => y(d.rank) + 5 + ((y(1) - y(0)) / 2) + 1);\r\n\r\n\r\n      labels\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr('x', d => x(d.total) - 8)\r\n        .attr('y', d => y(d.rank) + 5 + ((y(1) - y(0)) / 2) + 1);\r\n\r\n      labels\r\n        .exit()\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr('x', d => x(d.total) - 8)\r\n        .attr('y', d => y(top_n + 1) + 5)\r\n        .remove();\r\n\r\n\r\n      valueLabels\r\n        .enter()\r\n        .append('text')\r\n        .attr('class', 'valueLabel')\r\n        .attr('x', d => x(d.total) + 5)\r\n        .attr('y', d => y(top_n + 1) + 5)\r\n        .text(d => d3.format(',.0f')(d.total))\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr(\"font-size\", 16)\r\n        .attr('y', d => y(d.rank) + 5 + ((y(1) - y(0)) / 2) + 1);\r\n\r\n      valueLabels\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr('x', d => x(d.total) + 5)\r\n        .attr('y', d => y(d.rank) + 5 + ((y(1) - y(0)) / 2) + 1)\r\n        .tween(\"text\", function (d) {\r\n          let i = d3.interpolateRound(d.total, d.total);\r\n          return function (t) {\r\n            this.textContent = d3.format(',')(i(t));\r\n          };\r\n        });\r\n\r\n      valueLabels\r\n        .exit()\r\n        .transition()\r\n        .duration(tickDuration)\r\n        .ease(d3.easeLinear)\r\n        .attr('x', d => x(d.total) + 5)\r\n        .attr('y', d => y(top_n + 1) + 5)\r\n        .remove();\r\n\r\n      periodText.text(parsedate(period));\r\n\r\n      if (parsedate(period) === yesterday)\r\n        ticker.stop();\r\n      period.setDate(period.getDate() + 1)\r\n    }, tickDuration);\r\n\r\n  }\r\n\r\n  return <svg ref={ref} />\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport * as d3 from 'd3';\r\n\r\nimport Navigation from './Navigation';\r\nimport Copyright from '../Copyright';\r\nimport RaceChart from './RaceChart';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 450,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 115,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },    \r\n}));\r\n\r\n\r\nexport default function RaceCharts(props) {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    const [covid19, setCovid19] = useState([]);\r\n\r\n    const covid19data = (props) => {\r\n        // const covid19confirmed = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_confirmed_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_confirmed_global.csv\"\r\n        // const covid19deaths = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_deaths_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_deaths_global.csv\"\r\n        // const covid19recovered = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_recovered_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_recovered_global.csv\"\r\n        const covid19confirmed = \"time_series_covid19_confirmed_global_narrow.csv\"\r\n        const covid19deaths = \"time_series_covid19_deaths_global_narrow.csv\"\r\n        const covid19recovered = \"time_series_covid19_recovered_global_narrow.csv\"\r\n        const data = Promise.all([\r\n            d3.csv(covid19confirmed, d3.autoType).then(data =>\r\n                data.filter(d => d['Country/Region'] !== \"#country+name\")),\r\n            d3.csv(covid19deaths, d3.autoType).then(data =>\r\n                data.filter(d => d['Country/Region'] !== \"#country+name\")),\r\n            d3.csv(covid19recovered, d3.autoType).then(data =>\r\n                data.filter(d => d['Country/Region'] !== \"#country+name\")),\r\n        ]).then(result => {\r\n            setCovid19([result[0], result[1], result[2]]);\r\n        });\r\n        return data\r\n    }\r\n\r\n    useEffect(() => {\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\");\r\n        let yesterday = new Date();\r\n        yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 1));\r\n        covid19data({ yesterday });\r\n    }, []);\r\n\r\n    const valueby = [\"Confirmed\", \"Deaths\", \"Recovered\"];    \r\n    const [value, setValue] = useState(\"\");\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    \r\n    return (\r\n        <div className={classes.root}>\r\n            <Navigation covid19={props.covid19} />\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={6} lg={9}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"race-select-label\">Cases</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"race-select-label\"\r\n                                        id=\"race-select\"\r\n                                        value={value}\r\n                                        onChange={handleChange}\r\n                                    >\r\n                                        {valueby.map((row) => {\r\n                                            return (<MenuItem key={row} value={row}>{row}</MenuItem>)\r\n                                        })}\r\n                                    </Select>\r\n                                </FormControl>\r\n                                <FormHelperText>*Source: data.humdata.org</FormHelperText>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <Paper className={fixedHeightPaper}>\r\n                                    <RaceChart covid19={covid19} value={value} />\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4} lg={3}>\r\n                            <Paper className={fixedHeightPaper}>\r\n                                \r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Box pt={4}>\r\n                        <Copyright />\r\n                    </Box>\r\n                </Container>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport * as d3 from 'd3';\r\n\r\nimport Navigation from './Navigation';\r\nimport Copyright from '../Copyright';\r\nimport DonutChart from './DonutChart';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    container: {\r\n        paddingLeft: theme.spacing(2),\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        display: 'flex',\r\n        overflow: 'auto',\r\n        flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n        height: 400,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 115,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\n\r\nexport default function DonutCharts(props) {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    const [covid19, setCovid19] = useState([]);\r\n\r\n    const covid19data = (props) => {\r\n        // const covid19confirmed = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_confirmed_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_confirmed_global.csv\"\r\n        // const covid19deaths = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_deaths_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_deaths_global.csv\"\r\n        // const covid19recovered = \"https://data.humdata.org/hxlproxy/data/download/time_series_covid19_recovered_global_narrow.csv?dest=data_edit&filter01=merge&merge-url01=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D1326629740%26single%3Dtrue%26output%3Dcsv&merge-keys01=%23country%2Bname&merge-tags01=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&filter02=merge&merge-url02=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vTglKQRXpkKSErDiWG6ycqEth32MY0reMuVGhaslImLjfuLU0EUgyyu2e-3vKDArjqGX7dXEBV8FJ4f%2Fpub%3Fgid%3D398158223%26single%3Dtrue%26output%3Dcsv&merge-keys02=%23adm1%2Bname&merge-tags02=%23country%2Bcode%2C%23region%2Bmain%2Bcode%2C%23region%2Bsub%2Bcode%2C%23region%2Bintermediate%2Bcode&merge-replace02=on&merge-overwrite02=on&filter03=explode&explode-header-att03=date&explode-value-att03=value&filter04=rename&rename-oldtag04=%23affected%2Bdate&rename-newtag04=%23date&rename-header04=Date&filter05=rename&rename-oldtag05=%23affected%2Bvalue&rename-newtag05=%23affected%2Binfected%2Bvalue%2Bnum&rename-header05=Value&filter06=clean&clean-date-tags06=%23date&filter07=sort&sort-tags07=%23date&sort-reverse07=on&filter08=sort&sort-tags08=%23country%2Bname%2C%23adm1%2Bname&tagger-match-all=on&tagger-default-tag=%23affected%2Blabel&tagger-01-header=province%2Fstate&tagger-01-tag=%23adm1%2Bname&tagger-02-header=country%2Fregion&tagger-02-tag=%23country%2Bname&tagger-03-header=lat&tagger-03-tag=%23geo%2Blat&tagger-04-header=long&tagger-04-tag=%23geo%2Blon&header-row=1&url=https%3A%2F%2Fraw.githubusercontent.com%2FCSSEGISandData%2FCOVID-19%2Fmaster%2Fcsse_covid_19_data%2Fcsse_covid_19_time_series%2Ftime_series_covid19_recovered_global.csv\"\r\n        const covid19confirmed = \"time_series_covid19_confirmed_global_narrow.csv\"\r\n        const covid19deaths = \"time_series_covid19_deaths_global_narrow.csv\"\r\n        const covid19recovered = \"time_series_covid19_recovered_global_narrow.csv\"\r\n        const locurl = \"locations.csv\"\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\")\r\n        const data = Promise.all([\r\n            d3.csv(covid19confirmed, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19deaths, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(covid19recovered, d3.autoType).then(data =>\r\n                data.filter(d => parsedate(d.Date) === props.yesterday)),\r\n            d3.csv(locurl, d3.autoType),\r\n        ]).then(result => {\r\n            setCovid19([result[0], result[1], result[2], result[3]]);\r\n        });\r\n        return data\r\n    }\r\n\r\n    useEffect(() => {\r\n        const parsedate = d3.timeFormat(\"%Y-%m-%d\");\r\n        let yesterday = new Date();\r\n        yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 2));\r\n        covid19data({ yesterday });\r\n    }, []);\r\n\r\n\r\n    const valueby = [\"Confirmed\", \"Deaths\", \"Recovered\"];\r\n    const [value, setValue] = useState(\"\");\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Navigation />\r\n            <main className={classes.content}>\r\n                <Toolbar />\r\n                <div className={classes.appBarSpacer} />\r\n                <Container maxWidth=\"lg\" className={classes.container}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} md={4} lg={6}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"donut-select-label\">Cases</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"donut-select-label\"\r\n                                        id=\"donut-select\"\r\n                                        value={value}\r\n                                        onChange={handleChange}\r\n                                    >\r\n                                        {valueby.map((row) => {\r\n                                            return (<MenuItem key={row} value={row}>{row}</MenuItem>)\r\n                                        })}\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <Paper className={fixedHeightPaper}>\r\n                                    <DonutChart covid19={covid19} value={value} />\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4} lg={3}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                                <Paper className={fixedHeightPaper}>\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4} lg={3}>\r\n                            <Grid item xs={12} md={8} lg={12}>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Box pt={4}>\r\n                        <Copyright />\r\n                    </Box>\r\n                </Container>\r\n            </main>\r\n        </div>\r\n    )\r\n}","import React from 'react';\nimport { Route, HashRouter as Router } from 'react-router-dom';\n\nimport Dashboard from './components/Dashboard';\nimport PieCharts from './components/PieCharts';\nimport BarCharts from './components/BarCharts';\nimport TableCharts from './components/TableCharts';\nimport LineCharts from './components/LineCharts';\nimport RaceCharts from './components/RaceCharts';\nimport DonutCharts from './components/DonutCharts';\n\n// const [covid19, setCovid19] = useState([])\n\n// const covid19data = (props) => {\n//   const covidurl = \"https://covid.ourworldindata.org/data/owid-covid-data.csv\"\n//   const locurl = \"https://github.com/owid/covid-19-data/blob/master/public/data/ecdc/locations.csv\"\n//   const mapurl = \"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json\"\n//   const parsedate = d3.timeFormat(\"%Y-%m-%d\")\n\n//   const data = Promise.all([\n//     d3.csv(covidurl, d3.autoType).then(function (data) {\n//       return data.filter((d) => {\n//         return (parsedate(d.date) === (props.yesterday ? props.yesterday : parsedate(d.date)))\n//           && (d.iso_code !== null)\n//       })\n//     }),\n//     d3.csv(locurl, d3.autoType),\n//     d3.csv(covidurl, d3.autoType).then(function (data) {\n//       return data.filter((d) => (d.iso_code !== null))\n//     }),\n//     d3.json(mapurl),\n//   ]).then((result) => {\n//     const total_countries = result[0].length.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n//     const total_cases = result[0].reduce((tot, row) => { return tot + row.total_cases }, 0).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n//     const total_deaths = result[0].reduce((tot, row) => { return tot + row.total_deaths }, 0).toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n\n//     setCovid19([result[0], result[1], result[2], result[3], total_countries, total_cases, total_deaths, false]);\n//   })\n\n//   return data\n// }\n\n// useEffect(() => {\n//   const parsedate = d3.timeFormat(\"%Y-%m-%d\")\n//   let yesterday = new Date();\n//   yesterday = parsedate(yesterday.setDate(yesterday.getDate() - 1));\n//   covid19data({ yesterday });\n// }, []);\n\n\nexport default function App() {\n\n    return (\n      <Router>\n        <Route path=\"/\" exact render={(props) => <Dashboard {...props} />} />\n        <Route path=\"/Dashboard\" render={(props) => <Dashboard {...props} />} />\n        <Route path=\"/PieCharts\" render={(props) => <PieCharts {...props} />} />\n        <Route path=\"/BarCharts\" render={(props) => <BarCharts {...props} />} />\n        <Route path=\"/TableCharts\" render={(props) => <TableCharts {...props} />} />\n        <Route path=\"/LineCharts\" render={(props) => <LineCharts {...props} />} />\n        <Route path=\"/RaceCharts\" render={(props) => <RaceCharts {...props} />} />\n        <Route path=\"/DonutCharts\" render={(props) => <DonutCharts {...props} />} />\n      </Router>\n    )\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}